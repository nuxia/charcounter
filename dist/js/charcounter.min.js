!function(n){n.fn.CharCounter=function(t){t=n.extend({max:255,method:"count",truncateAfterMax:!1,locale:"en",warningRatio:.2,containerTag:"span",containerClass:"charcounter-container",events:"keyup change"},t);var o=function(o){return n(document.createElement(t.containerTag)).addClass(t.containerClass).insertAfter(o)},a=function(o,a){var r=o.val(),e=r.length,c=t.max*(1-t.warningRatio);e>=c&&e<t.max?a.addClass(t.containerClass+"-warning"):a.removeClass(t.containerClass+"-warning"),e>=t.max?a.addClass(t.containerClass+"-danger"):a.removeClass(t.containerClass+"-danger"),t.truncateAfterMax&&o.val(r.substring(0,t.max)),a.html(n.fn.CharCounter.methods[t.method](n.fn.CharCounter.locales[t.locale],e,t.max,c))};return this.each(function(){var r=n(this),e=o(r);a(r,e),r.on(t.events,function(){a(r,e)})})},n.fn.CharCounter.methods={countdown:function(n,t,o){return t=o-t,t=0>t?0:t,n.countdown(t,t>1)},count:function(n,t){return n.count(t,t>1)},countOnMax:function(n,t,o){return n.countOnMax(t,t>1,o)},countdownAndTooMuch:function(n,t,o){t=o-t;var a=0>t?Math.abs(t):0;return t=0>t?0:t,n.countdownAndTooMuch(t,t>1,a)},countAndTooMuch:function(n,t,o){var a=0>o-t?Math.abs(o-t):0;return n.countAndTooMuch(t,t>1,a)}},n.fn.CharCounter.locales=[],n.fn.CharCounter.locales.en={countdown:function(n,t){return n+" character"+(t?"s":"")+" remaining"},count:function(n,t){return n+" character"+(t?"s":"")},countOnMax:function(n,t,o){return this.count(n,t)+" / "+o},countdownAndTooMuch:function(n,t,o){return this.countdown(n,t)+(o>0?" ("+o+" too many)":"")},countAndTooMuch:function(n,t,o){return this.count(n,t)+(o>0?" ("+o+" too many)":"")}},n(document).ready(function(){n("[data-charcounter]").each(function(){n(this).CharCounter(n(this).data("charcounter"))})})}(jQuery);